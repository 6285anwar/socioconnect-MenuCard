{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />

  <title>Hudels</title>
  <meta content="" name="description" />
  <meta content="" name="keywords" />

  <!-- Favicons -->
  <link href="{% static 'assets/img/socioconnects_icon.png' %}" rel="icon">

  <link href="https://fonts.googleapis.com/css?family=Open Sans" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect" />
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet" />



    <link href="{% static 'admin/css/tabler.min.css'%}" rel="stylesheet" />



  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" />
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet" />
  <link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet" />
  <link href="{% static 'assets/vendor/quill/quill.snow.css' %}" rel="stylesheet" />
  <link href="{% static 'assets/vendor/quill/quill.bubble.css' %}" rel="stylesheet" />
  <link href="{% static 'assets/vendor/remixicon/remixicon.css' %}" rel="stylesheet" />
  <link href="{% static 'assets/vendor/simple-datatables/style.css' %}" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" type="text/javascript"></script>
  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet" />
  <style>
    body{
      font-size:smaller !important;
      letter-spacing:1px;
    }
    tr {
      height: "500px" !important;
    }

    .head {
      font-weight:600;
      font-size: 13px;
    }

    .val {
      font-size: 14px;
    }

    .Input {
      position: relative;
      text-align: center;
    }

    .Input-text {
      display: block;
      height: 40px;
      text-align: center;
      margin: 0;
      padding: var(--inputPaddingV) var(--inputPaddingH);
      color: inherit;
      background-color: #f5f5f5;
      width: 100%;
      font-family: "Open Sans";
      font-size: var(--inputFontSize);
      font-weight: inherit;
      line-height: var(--inputLineHeight);
      border: none;
      border-radius: 0.4rem;
      transition: box-shadow var(--transitionDuration);
    }

    .Input-text::placeholder {
      color: #b0bec5;
    }

    .Input-text:focus {
      outline: none;
      box-shadow: 0.2rem 0.8rem 1.6rem var(--colorPrimary600);
    }

    input[type="file"]::file-selector-button {
      border: 2px solid #334257;
      height: 40px;
      padding: 0.2em 0.4em;
      border-radius: 0.2em;
      color: #fff;
      font-size: smaller;
      background-color: #334257;
      transition: 1s;
    }

    
    .Input-label {
      display: block;
      position: absolute;
      bottom: 50%;
      left: 1rem;
      color: #000;
      font-family: inherit;
      font-size: var(--inputFontSize);
      font-weight: inherit;
      line-height: var(--inputLineHeight);
      opacity: 0;
      transform: translate3d(0, var(--labelDefaultPosY), 0) scale(1);
      transform-origin: 0 0;
      transition: opacity var(--inputTransitionDuration) var(--inputTransitionTF),
        transform var(--inputTransitionDuration) var(--inputTransitionTF),
        visibility 0ms var(--inputTransitionDuration) var(--inputTransitionTF),
        z-index 0ms var(--inputTransitionDuration) var(--inputTransitionTF);
    }

    .Input-text:placeholder-shown+.Input-label {
      visibility: hidden;
      z-index: -1;
    }

    .Input-text:not(:placeholder-shown)+.Input-label,
    .Input-text:focus:not(:placeholder-shown)+.Input-label {
      visibility: visible;
      z-index: 1;
      opacity: 1;
      transform: translate3d(0, var(--labelTransformedPosY), 0) scale(var(--labelScaleFactor));
      transition: transform var(--inputTransitionDuration), visibility 0ms,
        z-index 0ms;
    }
  </style>
  <!-- =======================================================
  * Template Name: NiceAdmin - v2.2.0
  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <script></script>
</head>

<body>
  <!-- ======= Header ======= -->
 

      <!-- ======= Header ======= -->
      <header id="header" class="header fixed-top d-flex align-items-center">
        <div class="d-flex align-items-center justify-content-between">
          <a href="" class="logo d-flex align-items-center">
            <img
              style="max-height: 200px; max-width: 200px"
              src="{% static 'images/checkin.png' %}"
              alt="Profile"
              class=""
            />
          </a>
          <i class="bi bi-list toggle-sidebar-btn"></i>
        </div>
        <!-- End Logo -->
  
        
        <!-- End Search Bar -->
  
        <nav class="header-nav ms-auto">
          <ul class="d-flex align-items-center">
            
            <!-- End Search Icon-->
            {% if hotel.other %}
            <li class="nav-item d-block">
              <a style="background-color:#548ca8; color:white;font-weight:500; font-size:small;padding-right:10px; border-radius:5px;" class="nav-link nav-icon search-bar-toggle " href="{% url 'hotel_dashboard' %}">
                <span>Reviews</span>
              </a>
            </li><!-- End Search Icon-->
    {% endif %}
  
            <li class="nav-item dropdown pe-3">
              <a
                class="nav-link nav-profile d-flex align-items-center pe-0"
                href="#"
                data-bs-toggle="dropdown"
              >
                <img
                  src="{{hotel.profile_photo.url}}"
                  alt="Profile"
                  class="rounded-circle"
                />
                <span class="d-none d-md-block dropdown-toggle ps-2"
                  >{{user.username}}</span
                > </a
              ><!-- End Profile Iamge Icon -->
  
              <ul
                class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile"
              >
                <li class="dropdown-header">
                  <h6>{{user.username}}</h6>
                  <span>{{hotel.property_name}}</span>
                </li>
                <li>
                  <hr class="dropdown-divider" />
                </li>
  
                <li>
                  <a class="dropdown-item d-flex align-items-center" href="">
                    <i class="bi bi-person"></i>
                    <span>My Profile</span>
                  </a>
                </li>
                <li>
                  <hr class="dropdown-divider" />
                </li>
  
                <li>
                  <a
                    class="dropdown-item d-flex align-items-center"
                    href="{% url 'logout_hotel' %}"
                  >
                    <i class="bi bi-box-arrow-right"></i>
                    <span>Sign Out</span>
                  </a>
                </li>
              </ul>
              <!-- End Profile Dropdown Items -->
            </li>
            <!-- End Profile Nav -->
          </ul>
        </nav>
        <!-- End Icons Navigation -->
      </header>

      <aside style="padding-top:50px;" id="sidebar" class="sidebar">

        <ul class="sidebar-nav" id="sidebar-nav">

          <li class="nav-item">
            <a class="nav-link collapsed" href="{% url 'dashboard_hotel' %}">
              <i class="bi bi-grid"></i>
              <span>Dashboard</span>
            </a>
          </li><!-- End Dashboard Nav -->
          
          <li class="nav-item">
            <a class="nav-link collapsed" href="{% url 'user_profile' %}">
              <i class="bi bi-person"></i>
              <span>Profile</span>
            </a>
          </li><!-- End Profile Page Nav -->
    
          <li class="nav-item">
            <a class="nav-link collapsed" href="{% url 'total_checkin' %}">
              <i class="bi bi-person"></i>
              <span>Customer Details</span>
            </a>
          </li><!-- End Profile Page Nav -->
    
          <li class="nav-item">
            <a class="nav-link collapsed" href="{% url 'check_mobile' user.username %}">
              <i class="bi bi-card-list"></i>
              <span>Registration Form</span>
            </a>
          </li><!-- End Register Page Nav -->
          
          <li class="nav-item">
            <a class="nav-link collapsed dropdown-item d-flex align-items-center" data-bs-toggle="modal"
              data-bs-target="#basicModal">
              <i class="bi bi-person"></i>
              <span id="contact_us">Contact Us</span>
            </a>
          </li>
          {% if hotel.other %}
          <li class="nav-item">
            <a class="nav-link collapsed" href="{% url 'hotel_dashboard' %}">
              <i class="bi bi-toggle-on"></i>
              <span>Check-In</span>
            </a>
          </li><!-- End Dashboard Nav -->
          {% endif %}

          <li class="nav-item" style="padding-top:30px;float:left;padding-left:20px;">

            <a href="{{hotel.checkin_qr.url}}" download><button
                style="background-color:#548ca8; color:white;font-weight:200; font-size:small; height:30px; width:auto;"
                type="button" class="btn btn-success"><span>Checkin Qr Code</span> &nbsp; <i
                  class="bi bi-download"></i></button></a>
          </li><!-- End Register Page Nav -->

        </ul>

      </aside><!-- End Sidebar-->


     
          <!-- End Icons Navigation -->
  </header>
  <!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside style="padding-top: 50px" id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <li class="nav-item">
        <a class="nav-link collapsed" href="{% url 'dashboard_hotel' %}">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>
      <!-- End Dashboard Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed" href="{% url 'user_profile' %}">
          <i class="bi bi-person"></i>
          <span>Profile</span>
        </a>
      </li>
      <!-- End Profile Page Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed" href="{% url 'total_checkin' %}">
          <i class="bi bi-person"></i>
          <span>Customer Details</span>
        </a>
      </li>
      <!-- End Profile Page Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed" href="{% url 'check_mobile' user.username %}">
          <i class="bi bi-card-list"></i>
          <span>Registration Form</span>
        </a>
      </li>
      <!-- End Register Page Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed dropdown-item d-flex align-items-center" data-bs-toggle="modal"
          data-bs-target="#basicModal">
          <i class="bi bi-person"></i>
          <span id="contact_us">Contact Us</span>
        </a>
      </li>
      <li class="nav-item" style="padding-top: 30px; float: left; padding-left: 20px">
        <a onclick="downloadCheckinQr(this)"><button style="
                background-color: #548ca8;
                color: white;
                font-weight: 200;
                font-size: small;
                height: 30px;
                width: auto;
              " type="button" class="btn btn-success">
            <span>Download Qr Code</span> &nbsp;
            <i class="bi bi-download"></i></button></a>
      </li>
      <!-- End Register Page Nav -->
    </ul>
  </aside>
  <!-- End Sidebar-->

  <main id="main" class="main">
    <div class="pagetitle">
      <h1>Update Details</h1>
      <nav>
        <ol class="breadcrumb">
          
        </ol>
      </nav>
    </div>
    <!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <!-- <p>Add lightweight datatables to your project with using the <a href="https://github.com/fiduswriter/Simple-DataTables" target="_blank">Simple DataTables</a> library. Just add <code>.datatable</code> class name to any table you wish to conver to a datatable</p> -->
              <form action="{% url 'edit_fun' customer.id %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <!-- Table with stripped rows -->
                <table id="table_detail" class="table">
                  <div style="height: 50px"></div>
                  <tbody>
                    <tr height="50px">
                      <td class="head">Firstname</td>
                      <td class="val">
                        <input id="firstname" class="Input-text" type="text" value="{{customer.firstname}}"
                          name="firstname" />
                      </td>
                      <td class="head">Lastname</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.lastname}}" name="lastname" />
                      </td>
                    </tr>
                    <tr height="50px">
                      <td class="head">Address</td>
                      <td class="val">
                        <input class="Input-text" type="text" name="address" value="{{customer.address}}" />
                      </td>
                      <td class="head">Email</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.email}}" name="email" />
                      </td>
                    </tr>
                    <tr height="50px">
                      <td class="head">Id Proof</td>
                      <td class="val">
                        <!-- <input class="file-path" type="file" name="id_proof" />
                        {% if customer.id_proof != false %}
                        <a href="{{customer.id_proof.url}}"><img style="width: 50px; height: 50px"
                            src="{{customer.id_proof.url}}" alt=" " /></a>
                        {% endif %} -->
                        <div class="form-selectgroup-label-content d-flex align-items-center">
                          {% if customer.id_proof != false %}
                          <a href="{{customer.id_proof.url}}"><span class="avatar me-3" style="background-image: url({{customer.id_proof.url}});"></span></a>
                          {% endif %}
                          <div>
                              <input type="file" class="Input-text" name="id_proof" />
                          </div>
                        </div>
                      </td>
                      <td class="head">Id Proof Back</td>
                      <td class="val">
                        <!-- <div class="row">
                        {% if customer.id_proof_back != false %}
                        <a href="{{customer.id_proof_back.url}}"><img style="width: 50px; height: 50px"
                            src="{{customer.id_proof_back.url}}" alt=" " /></a>
                        {% endif %}
                        <input style="width:60%; display:inline;" class="file-path" type="file" name="id_proof_back" />

                      </div> -->




                      <div class="form-selectgroup-label-content d-flex align-items-center">
                        {% if customer.id_proof_back %}
                        <a href="{{customer.id_proof_back.url}}"><span class="avatar me-3" style="background-image: url({{customer.id_proof_back.url}});"></span></a>
                        {% endif %}
                        <div>
                            <input type="file" class="Input-text" name="id_proof_back" />
                        </div>
                      </div>
                      </td>
                      
                    </tr>
                   
                    </tr>
                    <tr height="50px">
                      <td class="head">Check-in</td>
                      <td class="val">
                        <input class="Input-text" type="date" value="{{customer.check_in|date:'Y-m-d'}}" name="checkin" required/>
                      </td>
                      <td class="head">Check-Out</td>
                      <td class="val">
                        <input class="Input-text" name="checkout" value="{{customer.check_out|date:'Y-m-d'}}" type="date" required/>
                      </td>
                    </tr>

                   
                    <tr height="50px">
                      <td class="head">Room</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.room}}" name="room" />
                      </td>
                      <td class="head">Remark</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.remark}}" name="remark" />
                      </td>
                    </tr>
                    <tr height="50px">
                      <td class="head">Amount</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.amount}}" name="amount" />
                      </td>
                      <td class="head">Plan</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.plan}}" name="plan" />
                      </td>
                    </tr>

                    <tr height="50px">
                      <td class="head">Selfi</td>
                      <td class="val">
                        <!-- <input class="file-path" type="file" name="selfi" />
                        <a href="{{customer.selfi.url}}"><img style="width: 50px; height: 50px"
                            src="{{customer.selfi.url}}" /></a> -->
                            <div class="form-selectgroup-label-content d-flex align-items-center">
                              <a href="{{customer.selfi.url}}"><span class="avatar me-3" style="background-image: url({{customer.selfi.url}});"></span></a>
                              <div>
                                  <input type="file" class="Input-text" name="selfi" />
                              </div>
                            </div>
                      </td>
                      <td class="head">Mobile</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.mobile}}" name="mobile" />
                      </td>
                    </tr>
                    <tr height="50px">
                      <td class="head">Purpose of Visit</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.purpose_of_visit}}" name="purpose_of_visit" />
                      </td>
                      <td class="head">GRC ID</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.grc_no}}" name="grc_no" />
                      </td>
                    </tr>
                    <tr height="50px">
                      <td class="head">Booking Agency</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.booking_agency}}"
                          name="booking_agency" />
                      </td>
                      
                      <td class="head">Children</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.no_of_children}}"
                          name="no_of_children" />
                      </td>
                    </tr>
                    <tr height="50px">
                      <td class="head">Adults</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.no_of_adult}}" name="no_of_adult" id="no_of_adult" readonly/>
                      </td>
                      
                      <!-- <td class="head">Booking Agency</td>
                      <td class="val">
                        <input class="Input-text" type="text" value="{{customer.booking_agency}}"
                          name="booking_agency" />
                      </td> -->
                     <td><button id="btnid" onclick="AddGuest(this)" style="background-color:#334257;font-size:small;" type="button" class="btn btn-success">Add Guest</button></td> 
                    </tr>
                    
                    {% for id in other_doc %}
                    <tr height="50px">
                    <td class="head">Guest Id Proofs</td>
                    <td class="val">
                      <div class="form-selectgroup-label-content d-flex align-items-center">
                        {% if id.id_proofs %}
                        <a href="{{id.id_proofs.url}}"><span class="avatar me-3" style="background-image: url({{customer.id_proofs.url}});"></span></a>
                        {% endif %}
                        <div>
                            <input type="file" class="Input-text" name="id_proof{{id.id}}" />
                        </div>
                      </div>
                    </td>
                   
                    <td class="head">Guest Id Proofs Back</td>
                    <td class="val">
                      
                      <div class="form-selectgroup-label-content d-flex align-items-center">
                        {% if id.id_proofs_back %}
                        <a href="{{id.id_proofs_back.url}}"><span class="avatar me-3" style="background-image: url({{customer.id_proofs_back.url}});"></span></a>
                        {% endif %}
                        <div>
                            <input type="file" class="Input-text" name="id_proof_back{{id.id}}" />
                        </div>
                      </div>
                    </td>
                  </tr>
                  {% endfor %}
                    <div></div>
                  </tbody>
                </table>
                <table  class="table">
                  <tbody id="extra">

                  </tbody>
                </table>
                <!-- End Table with stripped rows -->
                <div style="text-align: center">
                  <button style="width: 50%" class="btn btn-success" type="submit">
                    Update
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="card-body">
          <!-- Basic Modal -->

          <div class="modal fade" id="basicModal" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Contact US</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="text-align: center">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       e   <h3>{{hotel.admin_name.admin_user.first_name}}</h3>
                  <h6>{{hotel.admin_name.admin_user.email}}</h6>
                  <h6>{{hotel.admin_name.phone}}</h6>
                </div>
              </div>
            

            </div>

     
          </div>
        </div>
        <!-- End Basic Modal-->
      </div>
      </div>
    </section>

    <section>
      <div style="text-align: center"></div>
    </section>
  </main>

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">
      &copy; Copyright <strong><span>Hudels</span></strong>. All Rights Reserved
    </div>
  </footer>
  <!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.2/FileSaver.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.2/FileSaver.min.js"></script>
  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/apexcharts/apexcharts.min.js' %}"></script>
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/chart.js/chart.min.js' %}"></script>
  <script src="{% static 'assets/vendor/echarts/echarts.min.js' %}"></script>
  <script src="{% static 'assets/vendor/quill/quill.min.js' %}"></script>
  <script src="{% static 'assets/vendor/simple-datatables/simple-datatables.js' %}"></script>
  <script src="{% static 'assets/vendor/tinymce/tinymce.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}' %}"></script>
  <script>
    function AddGuest() {
      adults_val = document.getElementById("no_of_adult")
      adults_val.value = parseInt(adults_val.value) + 1
        var unregistered = parseInt(document.getElementById("no_of_adult").value);
        
        var registered = "{{customer.no_of_adult}}";
        number = unregistered-registered;
        
        document.getElementById('extra').innerHTML +='<tr height="50px"><td class="head">Guest Id Proofs</td><td class="val"><div class="form-selectgroup-label-content d-flex align-items-center"><input type="file" class="Input-text" name="idp'+ number +'" /></div></div></td><td class="head">Guest Id Proofs Back</td><td class="val"><div class="form-selectgroup-label-content d-flex align-items-center"><div><input type="file" class="Input-text" name="idp_back'+ number +'" /></div></div></td></tr>';
          
        
    };
</script>

  <script>
    function downloadCheckinQr(){
      var source = "{{hotel.checkin_qr.url}}"
  
        var str = source.substring(source.lastIndexOf('/') + 1)
        saveAs(source, str);
    }
  </script>
</body>

</html>